<!DOCTYPE html>
<html>
  <head>
    <title>Steady Life</title>
    <link rel="stylesheet" type="text/css" href="/public/style/style.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="/public/style/createForm.css"
    />
  </head>
  <body>
    <h1 class="main-text">Steady Life</h1>
    <p><%= user.displayName %>Îãò ÌôòÏòÅÌï©ÎãàÎã§üòÑ</p>
    <a href="auth/logout">Logout</a>
    <hr />
    <br />
    <input type="date" />
    <div class="create-container">
      <div class="hidden to-do-create-container">
        <form action="/todo/write" method="post" class="form-box">
          <table class="input-table">
            <tr style="height: 50px">
              <td>Categoty</td>
              <br />
              <td colspan="3">
                <select id="todo-category-input" class="input-category" name="category">
                  <option value="" selected="selected">---ÏÑ†ÌÉù---</option>
                  <option value="Í∞úÎ∞ú">Í∞úÎ∞ú</option>
                  <option value="ÎèÖÏÑú">ÎèÖÏÑú</option>
                  <option value="Í≥µÎ∂Ä">Í≥µÎ∂Ä</option>
                  <option value="Ïö¥Îèô">Ïö¥Îèô</option>
                  <option value="ÏÇ∞Ï±Ö">ÏÇ∞Ï±Ö</option>
                </select>
              </td>
            </tr>
            <tr style="height: 50px">
              <td>To do</td>
              <td colspan="3">
                <input
                  id="todo-title-input"
                  class="input-title"
                  type="text"
                  placeholder="ex) Web Development"
                  name="title"
                />
              </td>
            </tr>
            <tr style="height: 50px">
              <td>Time</td>
              <td>
                <input
                  id="todo-start-time-input"
                  class="input-time timepicker"
                  type="time"
                  name="startTime"
                />
              </td>
              <td>~</td>
              <td>
                <input
                  id="todo-end-time-input"
                  class="input-time timepicker"
                  type="time"
                  name="endTime"
                />
              </td>
            </tr>
          </table>
          <button id = "create-todo-btn" type="submit" class="btn">Add</button>
          <button type="button" id="form-close-button">Close</button>
        </form>
      </div>
    </div>
    <br />
    
    <% var date = ""; 
       var next_date = ""; 
       todoTasks.forEach(tasks => { 
         date = (tasks.date).substring(0, 10); 
        
         if(date != next_date){ next_date = date; %>

      <div class="date"><%= date %></div>

    <% } %>

    <table>   
        
      <tr>
        <td><%= tasks.category %></td>
        <td><%= tasks.title %></td>
        <td><%= tasks.startTime %> ~ <%= tasks.endTime %></td>
        <td><%= tasks.remainingTime %></td>
        <td><button
          type="button"
          id="img"
          onclick="location.href='/todo/edit/<%= tasks._id %>'"
        >
          Edit
        </button></td>
        <td><button
          type="button"
          id="img"
          onclick="location.href='/todo/remove/<%= tasks._id %>'"
          >
          Delete
        </button></td>
      </tr>
    </table>
    <% }); %>
    

    <footer class="main-footer">
      <div id="main-footer-contents">
        <button class="create-list-btn btn-hover">Create</button>
      </div>
    </footer>
    <script type="module" src="/public/js/index.js"></script>
  </body>
</html>
